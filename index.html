<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ramayan Game ‚Äì River Crossing</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;background:#ffe0b2;font-family:Arial}
canvas{display:block;margin:auto;background:#ffcc80}
.controls{
 position:fixed;bottom:10px;left:50%;
 transform:translateX(-50%);
 display:flex;gap:10px;
}
.btn{
 padding:14px 18px;
 font-size:18px;
 border:none;
 border-radius:10px;
 background:#f57c00;
 color:#fff;
}
.lang{position:fixed;top:10px;right:10px}
</style>
</head>

<body>

<div class="lang">
<button onclick="setLang('hi')">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
<button onclick="setLang('en')">English</button>
</div>

<canvas id="game" width="360" height="520"></canvas>

<div class="controls">
<button class="btn" ontouchstart="left=true" ontouchend="left=false">‚¨ÖÔ∏è</button>
<button class="btn" ontouchstart="right=true" ontouchend="right=false">‚û°Ô∏è</button>
<button class="btn" ontouchstart="action=true" ontouchend="action=false">üö£</button>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

let lang="hi";
let ram={x:160,y:380};
let boat={x:140,y:270,w:80,h:30};
let inBoat=false,levelDone=false;

let left=false,right=false,action=false;

function speak(text){
 speechSynthesis.cancel();
 let u=new SpeechSynthesisUtterance(text);
 u.lang=lang==="hi"?"hi-IN":"en-US";
 u.pitch=1.2;
 u.rate=0.9;
 speechSynthesis.speak(u);
}

const guide={
hi:"‡§®‡§æ‡§µ ‡§ï‡•á ‡§™‡§æ‡§∏ ‡§ú‡§æ‡§è‡§Å ‡§î‡§∞ üö£ ‡§¶‡§¨‡§æ‡§è‡§Å",
en:"Go near the boat and press üö£"
};

function setLang(l){
 lang=l;
 speak(guide[lang]);
}

document.addEventListener("keydown",e=>{
 if(e.key==="ArrowLeft")left=true;
 if(e.key==="ArrowRight")right=true;
 if(e.key===" ")action=true;
});
document.addEventListener("keyup",()=>{left=right=action=false});

function update(){
 if(!inBoat){
  if(left)ram.x-=3;
  if(right)ram.x+=3;
 }
 if(ram.x<0)ram.x=0;
 if(ram.x>320)ram.x=320;

 // Enter boat
 if(action && !inBoat &&
    ram.x>boat.x-20 && ram.x<boat.x+boat.w){
  inBoat=true;
  speak(lang==="hi"?"‡§∞‡§æ‡§Æ ‡§ú‡•Ä ‡§®‡§æ‡§µ ‡§Æ‡•á‡§Ç ‡§¨‡•à‡§† ‡§ó‡§è":"Ram sits in the boat");
 }

 // Boat movement
 if(inBoat && !levelDone){
  boat.y-=1;
  ram.y=boat.y-10;
  if(boat.y<120){
   levelDone=true;
   speak(lang==="hi"
   ?"‡§∂‡§æ‡§¨‡§æ‡§∂! ‡§ß‡•à‡§∞‡•ç‡§Ø ‡§î‡§∞ ‡§∏‡§æ‡§π‡§∏ ‡§∏‡•á ‡§∏‡§´‡§≤‡§§‡§æ ‡§Æ‡§ø‡§≤‡§§‡•Ä ‡§π‡•à"
   :"Well done! Courage and patience lead to success");
  }
 }
}

function draw(){
 ctx.clearRect(0,0,360,520);

 // River
 ctx.fillStyle="#4fc3f7";
 ctx.fillRect(0,250,360,170);

 // Boat
 ctx.fillStyle="#8d6e63";
 ctx.fillRect(boat.x,boat.y,boat.w,boat.h);
 ctx.fillStyle="#5d4037";
 ctx.fillRect(boat.x+10,boat.y-10,60,10);

 // Ram
 ctx.font="42px serif";
 ctx.fillText("üèπ",ram.x,ram.y);

 // Text
 ctx.fillStyle="#000";
 ctx.font="16px Arial";
 if(!levelDone)
 ctx.fillText(guide[lang],70,230);
 else
 ctx.fillText(lang==="hi"?"Level Complete":"Level Complete",120,230);
}

function loop(){
 update();
 draw();
 requestAnimationFrame(loop);
}

speak(guide[lang]);
loop();
</script>

</body>
</html>
